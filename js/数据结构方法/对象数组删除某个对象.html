<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      let MyObj = [
        {
          id: 1,
          content: '1第一层',
          children: [
            {
              id: 2,
              content: '1第二层',
              children: [
                {
                  id: 3,
                  content: '1级第三层',
                  children: [
                    {
                      tag: {
                        '2b86adaad': {
                          node_name: '通电导线在磁场中的作用力方向',
                          prob: 0.783,
                        },
                      },
                    },
                  ],
                },
              ],
            },
          ],
        },
        {
          id: 4,
          content: '2第一层',
          children: [
            {
              id: 5,
              content: '2第二层',
              children: [],
            },
          ],
        },
        {
          id: 6,
          content: '3第一层',
          children: [],
        },
      ]

      console.log(MyObj)

      /*
        // 遍历所有children属性
        arr:  对象数组
        attr: 判断的字段
        value： 当判断的字段为value定义的值时, 删掉当前这个attr所在的对象
      */
      function removeByValue(arr, attr, value) {
        let index = 0
        let flag = false
        for (let i in arr) {
          if (arr[i].children) {
            removeByValue(arr[i].children, attr, value)
            if (arr[i][attr] === value) {
              arr.splice(arr.indexOf(arr[i]), 1)
            }
          }
        }
      }

      function findNode(arr, attr, value) {
        for (let i in arr) {
          if (arr[i].children) {
            findNode(arr[i].children, attr, value)
            if (arr[i][attr] === value) {
              console.log(arr[i])
            }
          }
        }
      }

      // findNode(MyObj, 'content', '1级第三层')
      // removeByValue(MyObj, 'content', '1级第三层')
    </script>
  </body>
</html>
